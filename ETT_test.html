<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Etape du Tour</title>
    <meta http-equiv="content-Language" content="fr" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js" integrity="sha512-Qlv6VSKh1gDKGoJbnyA5RMXYcvnpIqhO++MhIM2fStMcGT9i2T//tSwYFlcyoRRDcDZ+TYHpH8azBBCyhpSeqw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
      body {
        background-image: url('pn.png');
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: cover;
      }
    </style>
</head>
<body> 
  
  <div id="result"></div>
  <script>

    //FORMULAIRE 

    let name = prompt("Entrez le nom du coureur :");

    //DOCUMENT CVS

    let contenu = `Dossard,Nom,Prenom,DateNaissance,Bidon,Sac,TshirtS,TshirtM,TshirtL,TshirtXL,TshirtXXL
39,GEBEL,Hervé,6/3/1976,1,,,,,,
48,POULIZAC,Ronan,10/26/1988,1,,,,,,
62,TESSIER,Matthieu,2/14/1986,1,,,,,,
86,MEHAT,Brice,11/8/1990,1,,,,,,
119,GRILLET,Sébastien,2/12/1984,1,,,,,,
134,MILLIER,Cédric,6/2/1988,1,,,,,,
153,LE MERDY,Antoine,5/29/1995,1,,,,,,
172,TOURNEUR,Julien,1/11/2000,1,,,,,,
175,ALTHUSSER,REMY,6/22/1963,1,,,,,,
178,CHERRIERE,Yohan,3/14/1996,1,,,,,,
184,DAMBEL,Cyril,11/27/1975,1,,,,,,
197,HEIBEL,Stéphane,5/29/1987,1,,,,,,
199,CARON,Serge,3/23/1970,1,,,,,,
215,DELMÉE,Grégory,12/19/1972,1,,,,,,
224,BOUTES,Jean-Christophe,1/10/1965,,,,,1,,
232,MOREL,Alexandre,10/10/1983,1,,,,,,
239,GRINDEL,Kevin,10/26/1995,1,,,,,,
265,YU,Kai,12/6/1973,1,,,,,,
271,DELVENDAHL,Alexander,4/18/1975,1,,,,,,
277,JÓNSSON,Árni Már,10/8/1979,2,1,1,,,,
289,VASSEUR,Alexandre,4/25/1986,2,,,,,,
290,ANSELME MARTIN,Baptiste,8/20/1995,1,,,,,,
296,CZINKOCZKI,Zoltan,5/26/1981,1,,,,,,
298,VAZ,Victor,8/13/1985,1,,,,,,
310,BRETEUIL,Stéphane,10/21/1961,1,,,,,,
317,DEVINNE,Mikael,5/31/1982,1,,,,,,
324,CIEŚLAK,Michał,2/21/1993,1,,,,,,
331,CHARLIER,Hugo,9/11/1999,1,,,,,,
15756,REGNIEZ,christophe,4/27/1976,1,,,,,,
15757,GAMBOA,Jospeh,8/25/1960,2,1,,1,,,
15781,PAUL,Dominique,10/6/1978,,,,,1,,
15800,VOIGT,Alexandre,8/12/1988,1,,,,,,
15812,LEROI,Jérémy,7/1/1982,,,,1,,,
15815,WARD,John,6/16/1970,1,,,,,,
15820,HOYLE,Jim,5/26/1975,1,,,,,,
15822,BUTTERFIELD,David,6/25/1970,1,,,,,,
15825,WILKES,Christopher,9/24/1950,1,,,,,,
15827,SANDQUIST,Geoffrey,12/5/1963,2,1,,,,,
15830,KNOTH,Tobias,12/27/1978,1,,,,,,
15833,MURPHY,Matthew,8/1/1964,1,,,,,,
15840,ANDEREGG,Koni,10/22/1967,1,,,,,,
15850,FULLING,Alex,3/22/1996,1,,,,,,
15854,FULLING,Dennis,1/17/1965,1,,,,,,
15888,MCNAUGHTON,Douglas,12/28/1951,3,,,,,,
15897,MAILLET,Pascal,12/19/1973,1,,,,,,
15899,VOTION,Dean,3/21/1994,1,,,,,,
15913,BIDET,Arnaud,9/27/1994,1,,,,,,
15917,KELLEHER,Raymond,4/13/1970,2,1,,,,,
15934,KOUYOUMJIAN,Berj,2/15/1945,1,,,,,,
15941,BONNEVILLE,Francois,2/10/1970,1,,,,,,
15962,PARKHOUSE,Paul,6/10/1973,,,,,1,,
16013,BLACK,Stephen,9/17/1972,1,,,,,,1
16015,THIVENT,EMMANUEL,12/2/1974,1,,,,,,
16031,PROSKURNYA,Evgeny,8/28/1974,1,,,,,,
16056,SABILE,Rémy,4/26/1992,1,,,,,,
16059,ROZNER,Renaud,9/27/1971,1,,,,,,
16066,ORION,Florentin,12/20/2003,1,,,,,,
16069,DI POLLINA,Juan Pablo,2/1/1979,1,,1,,,,
16077,CAYER-BARRIOZ,Tom,6/26/2000,1,,,,,,
16093,GASTEL,David,4/20/1972,1,,,,,,
16096,PESQUIER,benjamin,9/8/1993,1,,,,,,
16100,GAVOIS,Aymeric,12/6/1973,1,,,,,,
16108,BRIBES,Pierre Philippe,4/9/1976,1,,,,,,
16122,DUSSERT,pascal,7/29/1980,1,,,,,,
16126,BOUTROIS,Rémy,6/6/1984,1,,,,,,
16134,FARGNIER,Clément,3/22/1996,1,,,,,,
16148,ROY,henri,6/28/1951,1,,,,,,
16167,LECERVOISIER,Christine,1/22/1974,1,,,,,,
16181,SOROZABAL,Jon,10/10/1992,1,,,,,,
16184,GATEAUD,Julien,3/15/1992,1,,,,,,
16191,MATEO,Fabrice,6/14/1989,1,,,,,,
16193,BACH,Francis,9/26/1974,1,,,,,,
16194,DESCHAMPS,Jean Claude,12/5/1958,1,,,,,,
16195,TERFOUS,Tarik,4/24/1973,1,,,,,,
16197,MARTENS,Raphael,11/20/1992,1,,,,,,
16198,HASTINGS,Iain,8/19/1990,1,,,,,,
16199,CHAIX DE LAVARENE,pierre,2/22/1993,1,,,,,,
16200,TECHENEY,Nicolas,3/3/1989,1,,,,,,
16201,TZARICK,Guillaume,2/16/1988,1,,,,,,
16202,BOREL,Olivier,8/29/1975,1,,,,,,
16203,LEJEUNE,Renaud,7/22/1987,1,,,,,,
16204,MALBEZIN,Antoine,1/9/1981,1,,,,,,
16208,CAPPE,Olivier,1/29/1968,1,,,,,,
16210,PERILLAT,Alexane,12/13/1989,1,,,,,,
16211,JARCZYK,maud,7/27/1980,1,,,,,,
16212,MOSCA,Gilles,7/4/1973,1,,,,,,
16213,DELLA-CHIESA,Sébastien,1/30/1981,1,,,,,,
16214,PHILIPPE,Fleury,5/12/1959,1,,,,,,
16215,DIBOT,Fabien,8/23/1982,1,,,,,,
16216,MATTEUDI,Patrick,9/3/1953,1,,,,,,
16219,RUCH,Lucas,3/29/1998,1,,,,,,
16220,HELUAIN,valentin,11/4/1991,1,,,,,,
16221,TORBATY,ALEXIS,2/20/1988,1,,,,,,
16223,HACQUES,Maxime,6/19/1987,1,,,,,,
16224,VIALA,Caroline,3/25/1987,1,,,,,,
16225,ANTOINE SIMORRE,Thibaud,2/14/1995,1,,,,,,
16228,TOURNANT,Benoit,1/1/1975,1,,,,,,
16229,HINDERER,Guillaume,6/4/1982,1,,,,,,
16231,LAFON-BARRET,Laurent,10/19/1978,1,,,,,,
16232,FRANCOIS,TARRALLE,10/23/1973,1,,,,,,
16233,RIBOT,J-Philippe,11/26/1985,1,,,,,,
16234,GRÉGOIRE,Fabrice,1/24/1971,1,,,,,,
16235,GANDER,maxime,12/13/2001,1,,,,,,
16238,BARNABA,Anne,5/9/1991,1,,,,,,
16244,LEBRETON,Christian,1/23/1956,1,,,,,,
16245,L'HUISSIER,Benoit,4/8/1983,1,,,,,,
16247,LIBER,JEROME,5/24/1988,1,,,,,,
16248,WIATROWSKI,ERIC,2/17/1957,1,,,,,,
16249,BERNARD,CYRIL,3/18/1970,1,,,,,,
16250,GUEUGNIER,Matthieu,11/20/1980,1,,,,,,
16252,GEORGET,BRICE,1/31/1980,1,,,,,,
16253,FAUCHILLE,Olivier,5/9/1957,1,,,,,,
16254,ANTOINE SIMORRE,Thibaud,2/14/1995,1,,,,,,
16255,RICHARD,Sébastien,10/12/1979,1,,,,,,
16256,TOLLARDO,Mathieu,6/13/1984,1,,,,,,
16257,NAUDIN,Vincent,5/28/1989,1,,,,,,
16259,BERTA,Frédéric,2/28/1976,1,,,,,,
16260,RENEVOT,Tanguy,1/18/1998,1,,,,,,
16261,RAKOTOALIVONY,Tantely,10/5/1967,1,,,,,,
16263,CHANAS,Romain,7/27/1989,1,,,,,,
16264,AURELIA,Fah,3/30/1988,1,,,,,,
16266,MERAD,Mateo,6/6/2001,1,,,,,,
16268,BANCEL,BRENDAN,9/14/1993,1,,,,,,
16281,DOS SANTOS,Bruno,4/7/1983,1,,,,,,
16303,LOREAU,Agathe,11/14/2000,1,,,,,,
16308,JORDANT,olivier,9/22/1966,1,,,,,,
16309,DE RAUCOURT,Antoine,6/12/1991,1,,,,,,
16316,ZAMPIERI,luca,2/6/1996,1,,,,,,
16318,CORDONNIER,jean baptiste,6/13/1995,1,,,,,,
16322,BRIE,Patrick,2/3/1964,1,,,,,,
16323,MARQUET,Benjamin,9/20/1992,1,,,,,,
16329,GORRIAS,Marc,5/13/1992,1,,,,,,
16363,VERON,JORDAN,8/28/1991,1,,,,,,
16364,LANDER,Jean-Philippe,7/20/1977,1,,,,,,
16393,BERTRAM,Mark,1/27/1966,1,,,,,,`;

    //RECUPERATION DES DONNEES

    let lines = contenu.split("\n");
    for (let i = 1; i < lines.length; i++) {
        let cells = line.split(",");
        let Dossard = cells[0];
        let Nom = cells[1];
        let Prenom = cells[2];
        let Date_de_Naissance = cells[3];
        let Bidon = cells[4];
        let Sac = cells[5];
        let Tshirt_S = cells[6];
        let Tshirt_M = cells[7];
        let Tshirt_L = cells[8];
        let Tshirt_XL = cells[9];
        let Tshirt_XXL = cells[10];
        
        console.log("Dossard: " + Dossard);
        console.log("Nom: " + Nom);
        console.log("Prenom: " + Prenom);
        console.log("Date de Naissance: " + Date_de_Naissance);
        console.log("Bidon: " + Bidon);
        console.log("Sac: " + Sac);
        console.log("Tshirt S: " + Tshirt_S);
        console.log("Tshirt M: " + Tshirt_M);
        console.log("Tshirt L: " + Tshirt_L);
        console.log("Tshirt XL: " + Tshirt_XL);
        console.log("Tshirt XXL: " + Tshirt_XXL);

        //TRI ET AFFICHAGE CONSOLE

        if (name == Nom) 
        {
            document.write('<font size="6" </font>')
            document.write('<p style="text-align: center" </p>');
            document.write("__________________________________________<br/>");
            document.write(Nom + " " + Prenom + "<br/>");
            document.write(" Né le " + " " + Date_de_Naissance + " <br/>");
            document.write(Bidon + " " + " bidon <br/>");
            document.write(Sac + " " + " sac <br/>");
            document.write(Tshirt_S +" "+" Tshirt XS <br/>");
            document.write(Tshirt_M +" "+" Tshirt S <br/>");
            document.write(Tshirt_L +" "+" Tshirt M <br/>");
            document.write(Tshirt_XL +" "+" Tshirt L <br/>");
            document.write(Tshirt_XXL +" "+" Tshirt XL <br/>");
            // Ajouter les boutons Valider et Annuler
            document.write('<button onclick="valider()">Valider</button>');
            document.write('<button onclick="annuler()">Annuler</button>');

            break; // Sortir de la boucle après avoir trouvé le nom correspondant
        }                      

    function valider() {
        // Création du fichier texte avec les réponses fournies

        let blob = new Blob([Nom + " " + Prenom], {type: "text/plain"});
        
        let url = window.URL.createObjectURL(blob);
        let anchor = document.createElement("a");
        anchor.href = url;
        anchor.download = Nom + Prenom + ".txt";
        anchor.click();
        window.URL.revokeObjectURL(url);
    }

    function annuler() {
        // Recharger la page pour saisir un nouveau nom
        location.reload();
    }
}
  </script>
</body>
</html>
